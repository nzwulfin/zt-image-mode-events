== Image mode good ideas

update timer

[source,dockerfile,role="execute",subs=attributes+]
----
RUN systemctl mask bootc-fetch-apply-updates.timer
----

labels

[source,dockerfile,role="execute",subs=attributes+]
----
# Set up some variables and labels to ID images in our environments
MAINTAINER sysadmins@example.com
# RHEL version inherited from bootc base as redhat.version-id and release
LABEL vendor="Example Corp" 
----

lint all the things
[source,dockerfile,role="execute",subs=attributes+]
----
RUN bootc container lint
----

First, let's set up a directory structure that mimics `/etc` and create the 
files we need inside it. This allows us to add all the configs at once with a single command and in 
a single layer of the image.

NOTE: This is a local directory, relative to the location of the Containerfile, not the system `/etc/`.

[source,bash,role="execute",subs=attributes+]
----
mkdir -p etc/sudoers.d
----
[source,bash,role="execute",subs=attributes+]
----
mkdir -p usr/lib/bootc/kargs.d
----

[source,bash,role="execute",subs=attributes+]
----
mv 10-wheel etc/sudoers.d
----
[source,bash,role="execute",subs=attributes+]
----
mv console_kargs.conf usr/lib/bootc/kargs.d/05-cloud-kargs.toml
----

Replace the individual file COPY lines with directory ADDs
[source,dockerfile,role="execute",subs=attributes+]
----
ADD etc/ /etc
ADD usr/ /usr
----

